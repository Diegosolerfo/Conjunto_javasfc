<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Nueva Compra</title>
        <style>
            input{
width: 60vh;
}
        </style>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet"/>
    </h:head>

    <h:body>
        <h2 class="text-center text-success">Registrar Compra</h2>
        <br/>

        <center>
            <h:form>
        <center>
            <h:panelGrid columns="2">

                <h:outputLabel value="Fecha de Llegada:" for="fecha" />
                <h:inputText id="fecha"
value="#{compraBean.compra.fechaLlegada}"
class="form-control" required="true"
requiredMessage="Debe ingresar la fecha" />
                <h:message for="fecha" class="text-danger" />

                <h:outputLabel value="Proveedor:" for="prov" />
                <h:selectOneMenu id="prov"
value="#{compraBean.compra.proveedorC}"
class="form-select">
                    <f:selectItems value="#{compraBean.listaProveedores}"
var="p"
itemValue="#{p.id_proveedor}"
itemLabel="#{p.nombre}" />
                </h:selectOneMenu>
                <h:message for="prov" class="text-danger" />

                <h:outputLabel value="Movimiento:" for="mov" />
                <h:selectOneMenu id="mov"
value="#{compraBean.compra.movimiento}"
class="form-select">
                <f:selectItems value="#{compraBean.listaMovimientos}"
var="m"
itemValue="#{m.idMovimiento}"
itemLabel="#{m.observaciones}" />
                </h:selectOneMenu>
                <h:message for="mov" class="text-danger" />

                <h:outputLabel value="Producto Comprado:" for="prod" />
                <h:selectOneMenu id="prod"
value="#{compraBean.compra.productoComprado}"
class="form-select">
                    <f:selectItems value="#{compraBean.listaProductos}"
var="x"
itemValue="#{x.idProducto}"
itemLabel="#{x.nombreProducto}" /> 
                </h:selectOneMenu>
                <h:message for="prod" class="text-danger" />

                <h:outputLabel />
                <h:commandButton value="Guardar" class="btn btn-success"
                                 actionListener="#{compraBean.guardar()}"
                                 action="index?faces-redirect=true" />

            </h:panelGrid>
        </center>
    </h:form>

        </center>

    </h:body>
</html>